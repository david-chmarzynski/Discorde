(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{47:function(n,e,t){},79:function(n,e,t){"use strict";t.r(e);var r=t(1),o=t(0),i=t.n(o),c=t(38),a=t.n(c),u=(t(47),t(4)),s=t(20),l=t.n(s),d=t(2),b=t(3);function h(){var n=Object(d.a)(["\n  border: none;\n  background-color: yellowgreen;\n"]);return h=function(){return n},n}function f(){var n=Object(d.a)(["\n  width: 100%;\n  height: 100vh;\n  background-color: black;\n  color: yellowgreen;\n"]);return f=function(){return n},n}var g=b.a.div(f()),j=b.a.button(h());function m(){var n=Object(d.a)(["\n  width: 50%;\n  height: 10%;\n  margin: auto;\n  color: yellowgreen;\n  background-color: transparent;\n  border: 2px solid yellowgreen;\n  font-weight: 700;\n\n  :focus {\n    background-color: yellowgreen;\n    color: white;\n    border: none;\n  }\n"]);return m=function(){return n},n}function p(){var n=Object(d.a)(["\n  border: 2px solid yellowgreen;\n  width: 80%;\n  height: 10%;\n  background: transparent;\n  margin: auto;\n  color: yellowgreen;\n  font-weight: 800;\n\n  ::placeholder {\n    color: yellowgreen\n  }\n"]);return p=function(){return n},n}function O(){var n=Object(d.a)(["\n  width: 25%;\n  height: 25%;\n  border: 3px solid yellowgreen;\n  display: flex;\n  flex-direction: column;\n"]);return O=function(){return n},n}function x(){var n=Object(d.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return x=function(){return n},n}var v=b.a.div(x()),w=b.a.form(O()),y=b.a.input(p()),k=b.a.button(m()),S=function(n){var e=n.signin,t=n.setUsername,o=n.setPassword;return Object(r.jsx)(v,{children:Object(r.jsxs)(w,{onSubmit:function(n){return e(n)},children:[Object(r.jsx)(y,{placeholder:"Username",type:"text",onChange:function(n){return t(n.target.value)}}),Object(r.jsx)(y,{placeholder:"Password",type:"password",onChange:function(n){return o(n.target.value)}}),Object(r.jsx)(k,{type:"submit",children:"ACCESS"})]})})};function C(){var n=Object(d.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 16px;\n  height: 16px;\n  background-color: white;\n"]);return C=function(){return n},n}function I(){var n=Object(d.a)(["\n  height: 100%;\n  width: 100%;\n  font-size: 2em;\n  color: yellowgreen;\n  font-weight: 800;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 0;\n  position: relative;\n"]);return I=function(){return n},n}function z(){var n=Object(d.a)(["\n  width: 35%;\n  height: 20%;\n  border: 1px solid yellowgreen;\n"]);return z=function(){return n},n}function E(){var n=Object(d.a)(["\n  position: absolute;\n  width: 100%;\n  height: 100vh;\n  left: 0;\n  top: 0;\n  background-color: rgba(0,0,0, .9);\n  display: flex;\n  justify-content: center;\n"]);return E=function(){return n},n}var M=b.a.div(E()),F=b.a.div(z()),P=b.a.p(I()),U=b.a.div(C()),D=function(n){var e=n.message,t=n.setAlert;return Object(r.jsx)(M,{children:Object(r.jsx)(F,{children:Object(r.jsxs)(P,{children:[Object(r.jsx)(U,{onClick:function(){t(!1)}}),e]})})})};function R(){var n=Object(d.a)(["\n  background-color: yellowgreen;\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n"]);return R=function(){return n},n}function A(){var n=Object(d.a)(["\n  width: 12px;\n  height: 12px;\n  background-color: green;\n  border-radius: 50%;\n  margin-left: 1rem;\n  margin-right: 1rem;\n"]);return A=function(){return n},n}function B(){var n=Object(d.a)(["\n\n"]);return B=function(){return n},n}function T(){var n=Object(d.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]);return T=function(){return n},n}function J(){var n=Object(d.a)(["\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  width: 20%;\n  height: 35%;\n  display: flex;\n  flex-direction: column;\n  border: 2px solid yellowgreen;\n  border-top: 8px solid yellowgreen;\n"]);return J=function(){return n},n}var L=b.a.div(J()),_=b.a.div(T()),H=(b.a.p(B()),b.a.div(A())),K=b.a.div(R()),q=function(n){var e=n.onlineUsers,t=n.joinRoom,i=Object(o.useState)(!1),c=Object(u.a)(i,2),a=c[0],s=c[1],l=function(){s(!a)};return Object(r.jsxs)(r.Fragment,{children:[a&&Object(r.jsx)(L,{onClick:l,children:e&&e.map((function(n){return Object(r.jsxs)(_,{children:[Object(r.jsx)(H,{}),Object(r.jsx)("p",{id:n._id,onClick:function(n){return t(n)},children:n.username})]})}))}),!a&&Object(r.jsx)(K,{onClick:l})]})};function G(){var n=Object(d.a)(["\n  width: 9%;\n  height: 100%;\n"]);return G=function(){return n},n}function N(){var n=Object(d.a)(['\n      width: 79%;\n      border: none;\n      color: #656667;\n      font-size: 1.2rem;\n      overflow: auto;\n      background-color: #2e3031;\n      padding: .8rem 0;\n      font-family: "ubuntu";\n      resize: none;\n      padding-right: 1rem;\n      ::-webkit-scrollbar {\n        display: none;\n      }\n\n      :focus {\n        outline: none;\n      }\n\n      ::placeholder {\n        color: #656667;\n        font-size: 1.2rem;\n      }\n']);return N=function(){return n},n}function Q(){var n=Object(d.a)(["\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    flex-wrap: nowrap;\n    position: relative;\n    border-radius: 30px;\n    background-color: #2e3031;\n"]);return Q=function(){return n},n}function V(){var n=Object(d.a)(["\n  width: 100%;\n  max-height: 100%;\n  display: flex;\n  flex-direction: column;\n\n  p {\n    max-width: 45%;\n    height: auto;\n    word-wrap: break-word;\n    -webkit-hyphens: auto;\n    -moz-hyphens: auto;\n    -ms-hyphens: auto;\n    hyphens: auto;\n    color: white;\n    background-color: #3f4041;\n    padding: .8rem 1rem;\n    border-radius: 15px;\n    margin: 1em auto 1em 1em;\n  }\n"]);return V=function(){return n},n}function W(){var n=Object(d.a)(["\n  width: 100%;\n  max-height: 100%;\n  display: flex;\n  flex-direction: column;\n\n  p {\n    max-width: 45%;\n    height: auto;\n    word-wrap: break-word;\n    margin: 1rem 1rem 1rem auto;\n    background-color: #0199ff;\n    padding: .8rem 1rem;\n    border-radius: 15px;\n    -webkit-hyphens: auto;\n    -moz-hyphens: auto;\n    -ms-hyphens: auto;\n    hyphens: auto;\n    color: white;\n  }\n"]);return W=function(){return n},n}function X(){var n=Object(d.a)(["\n  width: 100%;\n  height: 90%;\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n  ::-webkit-scrollbar { width: 0 !important }\n"]);return X=function(){return n},n}function Y(){var n=Object(d.a)(["\n  width: 50%;\n  height: 50%;\n  margin: auto;\n  border: 1px solid yellowgreen;\n  box-sizing: border-box;\n  border-radius: 0 0 24px 24px;\n\n  #scroller {\n    \n  }\n"]);return Y=function(){return n},n}var Z,$,nn=b.a.div(Y()),en=b.a.div(X()),tn=b.a.div(W()),rn=b.a.div(V()),on=b.a.div(Q()),cn=b.a.textarea(N()),an=b.a.button(G()),un=function(n){var e=n.message,t=n.messages,i=n.userId,c=n.sendMessage,a=n.setMessage,u=n.roomId,s=Object(o.useRef)(null);return Object(o.useEffect)((function(){console.log("should scroll"),s.current.scrollTo({behavior:"smooth",top:document.getElementById("scroller").scrollHeight})}),[t]),Object(r.jsxs)(nn,{children:[Object(r.jsx)(en,{ref:s,id:"scroller",children:t.map((function(n){return n.room===u&&n.author===i?Object(r.jsx)(tn,{children:Object(r.jsx)("p",{children:n.data})}):n.room===u&&n.author!==i?Object(r.jsx)(rn,{children:Object(r.jsx)("p",{children:n.data})}):null}))}),Object(r.jsxs)(on,{children:[Object(r.jsx)(cn,{name:"",id:"",cols:"20",rows:"1",wrap:"hard",placeholder:"Ecrivez votre message...",value:e,onKeyPress:function(n){return"Enter"===n.key?c(n):null},onChange:function(n){return a(n.target.value)}}),Object(r.jsx)(an,{onClick:function(n){return c(n)},children:"Send"})]})]})},sn=function(){var n=Object(o.useState)(""),e=Object(u.a)(n,2),t=e[0],i=e[1],c=Object(o.useState)(""),a=Object(u.a)(c,2),s=a[0],d=a[1],b=Object(o.useState)(!1),h=Object(u.a)(b,2),f=h[0],m=h[1],p=Object(o.useState)(""),O=Object(u.a)(p,2),x=O[0],v=O[1],w=Object(o.useState)(!1),y=Object(u.a)(w,2),k=y[0],C=y[1],I=Object(o.useState)(""),z=Object(u.a)(I,2),E=z[0],M=z[1],F=Object(o.useState)(),P=Object(u.a)(F,2),U=P[0],R=P[1],A=Object(o.useState)([]),B=Object(u.a)(A,2),T=B[0],J=B[1],L=Object(o.useState)([]),_=Object(u.a)(L,2),H=_[0],K=_[1],G=Object(o.useState)(""),N=Object(u.a)(G,2),Q=N[0],V=N[1];Object(o.useEffect)((function(){Z=l()()}),[]),Object(o.useEffect)((function(){f&&($=l()("/chatroom")).on("connect",(function(){$.on("getUsers",(function(n){R(n)})),$.on("getMessages",(function(n){K(n)}))}))}),[f]);var W=function(n){n.preventDefault();var e={message:Q,userId:x,roomId:T};$.emit("sendMessage",e,(function(n){console.log("Sended Message"),console.log(n),V("")}))};return Object(r.jsxs)(g,{children:[!f&&Object(r.jsx)(S,{signin:function(n){n.preventDefault();var e={username:t,password:s};Z.emit("signin",e,(function(n){200===n.status?(m(!0),C(!0),M(n.message),v(n.user_id)):(C(!0),M(n.message))}))},setUsername:i,setPassword:d}),k&&Object(r.jsx)(D,{message:E,setAlert:C}),f&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(j,{onClick:function(n){return function(n){n.preventDefault();var e=x;$.emit("signout",e,(function(n){200===n.status?(m(!1),C(!0),M(n.message),v("")):(C(!0),M(n.message))}))}(n)},children:"Signout"}),Object(r.jsx)(q,{onlineUsers:U,joinRoom:function(n){n.preventDefault();var e=n.target.id,t={userId:x,id:e};$.emit("joinRoom",t,(function(n){console.log(n),J([n.roomId]),K(n.messages)}))}})]}),T&&T.map((function(n){return Object(r.jsx)(un,{message:Q,messages:H,userId:x,sendMessage:W,setMessage:V,roomId:n})}))]})},ln=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,80)).then((function(e){var t=e.getCLS,r=e.getFID,o=e.getFCP,i=e.getLCP,c=e.getTTFB;t(n),r(n),o(n),i(n),c(n)}))};a.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(sn,{})}),document.getElementById("root")),ln()}},[[79,1,2]]]);
//# sourceMappingURL=main.eed3c3a1.chunk.js.map